# Введение

<p>API GreedySMS позволяет вам управлять ресурсами в облаке программным способом с использованием обычных HTTP-HTTPS запросов.</p>
<p>В этой документации сперва будет описан общий дизайн и принципы работы API, а после этого конкретные конечные точки. Также будут приведены примеры запросов к ним.</p>
# Запросы
<p>Запросы должны выполняться по протоколу `HTTPS`, чтобы гарантировать шифрование транзакций. Поддерживаются следующие методы запроса:</p>

|Метод|Применение|
|--- |--- |
|GET|Получение/отправка данных в api|

### Параметры в запросах
Некоторые запросы требуют дополнительные параметры для запросов. В параметрах запроса требуется передать:
- `number` — Номер телефона который вы собираетесь купить
- `operation_id` — Номер операции (Указывать его в методах изменения или получения статуса)
- `cost` — Цена по которой был куплен номер
- `message ` — Сообщение о статусе
- `price` — Цена по которой покупаются номера
- `count` — Количество номеров
- `min` — Минимальная возможная цена при покупке номера
- `max` — Максимальная возможная цена при покупке номера
- `service` — id сервиса
### Номера статусов
- `3` — Запрос еще одного кода
- `6` — Подтвердить получения кода и закончить активацию
- `8` — Отменить активацию

Дополнительные параметры:
<p>Список стран — https://docs.greedyapi.ru/spiski/spisok-stran.</p>
<p>Список сервисов — https://docs.greedyapi.ru/spiski/spisok-servisov.</p>

<p>Официальная документация - https://docs.greedyapi.ru/</p>

# Ответы
Запросы вернут один из следующих кодов состояния ответа HTTP:

|Статус|Описание|
|--- |--- |
|200 OK|Действие с ресурсом было выполнено успешно.|
|201 Created|Ресурс был успешно создан. При этом ресурс может быть как уже готовым к использованию, так и находиться в процессе запуска.|
|400 Bad Request|Был отправлен неверный запрос, например, в нем отсутствуют обязательные параметры и т. д. Тело ответа будет содержать дополнительную информацию об ошибке.|
|401 Unauthorized|Ошибка аутентификации.|
|403 Forbidden|Аутентификация прошла успешно, но недостаточно прав для выполнения действия.|


# Требования
Python 3.7+

<p>Импортирование:</p>
```python
import greedysms
```

### Инициализация API:
```python
from greedysms import GreedyAPI 

api = GreedyAPI(token='') # в ковычки добавьте свой токен. P.S Для активации токена вы должны написать сапорту!!!
```
### Покупка номера

```python
# Получите идентификаторы вашего сервиса и страны
service_id = 'ваш_ид_сервиса'
country_id = 'ваш_ид_страны'

# Покупка номера
response_buy_number = api.buy_number(service_id=service_id, country_id=country_id)
print(response_buy_number)
```

### Получение статуса активации

```python
# Получение статуса активации по operation_id
response_get_status = api.get_status(operation_id=operation_id)
print(response_get_status)
```

### Изменение статуса активации

```python
# Изменение статуса на "Отменить активацию" (статус 8)
response_set_status = api.set_status(operation_id=operation_id, status=8)
print(response_set_status)
```

### Получение цены на номер

```python
# Получение цены на номер
response_get_price = api.get_price(service_id=service_id, country_id=country_id)
print(response_get_price)
```

### Получение цены на номер

```python
# Получение цен на все сервисы в стране
response_get_prices = api.get_prices(country_id=country_id)
print(response_get_prices)
```

### Получение количества доступных номеров для различных сервисов

```python
# Получение количества доступных номеров для различных сервисов
response_get_count_numbers = api.get_count_numbers(country_id=country_id)
print(response_get_count_numbers)
```
